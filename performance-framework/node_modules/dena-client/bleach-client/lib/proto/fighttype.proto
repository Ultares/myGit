//
// 战斗相关的子模块
//

package Cmd;

import "basetype.proto";

enum eBehaviourType
{
eBehaviourType_Walk			= 1;	// 走路
eBehaviourType_Run			= 2;	// 跑步
eBehaviourType_Jump			= 3;	// 跳跃
eBehaviourType_Direct		= 4;	// 方向变更
eBehaviourType_Attack		= 5;	// 攻击
}

enum eFightUnitType
{
eFightUnitType_User			= 1;	// 玩家
eFightUnitType_Monster		= 2;	// 怪物
}

enum eAttackMode
{
eAttackMode_CP				= 1;	// cp受伤
eAttackMode_HP				= 2;	// hp受伤
}

enum eFightScoreLevel
{
eFightScoreLevel_S			= 1;
eFightScoreLevel_A			= 2;
eFightScoreLevel_B			= 3;
}

enum eFightResult
{
eFightResult_LOSE			= 0;	// 失败
eFightResult_WIN			= 1;	// 胜利
eFightResult_ERROR			= 2;	// 错误
eFightResult_ESCAPE			= 3;	// 逃跑
}

message FightHit
{
required FightUnitInfo 		strongman 		= 1;	// 攻击信息
repeated FightHitInfo 		hitinfo 		= 2;	// 打击信息
required int32				attackid		= 3;	// 攻击ID
required int32   			time 			= 4;	// 打击时间
required int32              index           = 5;    // hit索引
optional int32 				bulletid 		= 6; 	// 释放的飞行道具id
}

message FightHitInfo
{
repeated FightUnitInfo		weaknesslist	= 1;	// 被击者信息列表
}

message FightUnitInfo
{
required eFightUnitType		unittype	= 1;	// 战斗单位类型
required uint64				unitid		= 2;	// 战斗单位ID
required eAttackMode		attackmode	= 3;	// 攻击模式
required int32              time        = 4;    // 攻击击中时间
}

message ItemUnits
{
optional int32              itemid      = 1;
optional int32              nums        = 2;
}

message PropUnits
{
optional int32              key         = 1;
optional int32              value       = 2;
}

message MixUnits
{
optional int32              key         = 1;
optional int32              value       = 2;
optional int32              type        = 3;
}

message SoulFightBladeCp
{
optional uint32             bladeid     = 1;
optional uint32             cp          = 2;
}
