package Cmd;

import "basetype.proto";
import "itemtype.proto";

//Gach类型定义
enum EGachaType 
{
	GACHA_TYPE_GOLD_1	= 1; //单次金币
	GACHA_TYPE_GOLD_10  = 2; //10次金币抽取
	GACHA_TYPE_CASH_1	= 3; //单次魂钻
	GACHA_TYPE_CASH_10  = 4; //10次魂钻
}

message BladeIndexChip  
{
	optional uint32	 index = 1;		//刀在items的索引 有则说明已经拥有这把刀
	optional uint32	 itemid = 2;    //碎片id
	optional uint32  count = 3;		//碎片数量 
}

message MessageGachaInfoReq
{
	optional EProtoId id = 1 [default = GACHA_INFO_REQ];
}

message MessageGachaInfoRet 
{	
	optional EProtoId id = 1 [default = GACHA_INFO_RET];
	optional uint32 goldTimes = 2; //金币免费抽取次数
	optional uint32 goldCd	  = 3; //金币免费cd 上一次抽取时间戳	
	optional uint32 cashCd	  = 4;	//魂钻cd时间
}

message MessageGachaExecReq
{
	optional EProtoId id = 1 [default = GACHA_EXEC_REQ];
	required EGachaType gachaType = 2;	//抽取类型
}

message MessageGachaExecRet 
{	
	optional EProtoId id = 1 [default = GACHA_EXEC_RET];
	optional uint32		count = 2;		//抽的个数 1 或者 10
	repeated ItemNotiType items = 3;	//抽到的道具列表  + 送的义魂丸
	repeated BladeIndexChip chips = 4;  //刀灵碎片集合 有刀送的碎片
	repeated uint32		firstShow = 5;	//需要显示的索引集合
}
