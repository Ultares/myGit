package msg.admin;

import "base.proto";

//
// 命令字定义
//
enum MessageAdmin
{
	eMessageAdmin_ZoneIndex_G				= 0xA001;	// Agent索引
	eMessageAdmin_ShellCmd_A				= 0xA002;	// GM命令行请求
	eMessageAdmin_ShellCmd_G 				= 0xA003;	// GM命令行返回
	eMessageAdmin_QueryRoleID_A 			= 0xA010;	// 查询角色ID
	eMessageAdmin_QueryRoleID_G 			= 0xA011;	// 查询角色ID返回
	eMessageAdmin_Shutup_A 					= 0xA012;	// 禁言请求
	eMessageAdmin_Shutup_G 					= 0xA013;	// 禁言返回
	eMessageAdmin_BannedAccount_A 			= 0xA014;	// 封号请求
	eMessageAdmin_BannedAccount_G 			= 0xA015;	// 封号返回
	eMessageAdmin_SendBulletin_A			= 0xA016;	// 发送公告请求
	eMessageAdmin_SendBulletin_G 			= 0xA017;	// 发送公告返回
	eMessageAdmin_RemoveBulletin_A			= 0xA018;	// 删除公告请求
	eMessageAdmin_RemoveBulletin_G			= 0xA019;	// 删除公告返回
	eMessageAdmin_SendMail_A 				= 0xA01A;	// 发送GM邮件
	eMessageAdmin_SendMail_G 				= 0xA01B;	// 发送GM邮件返回
	eMessageAdmin_ExchangeTicket_A			= 0xA01C;	// 礼包码返回
	eMessageAdmin_ExchangeTicket_G			= 0xA01D;	// 兑换礼品券
	eMessageAdmin_QueryRoleStatus_A 		= 0xA01E;	// 查询角色状态
	eMessageAdmin_QueryRoleStatus_G 		= 0xA01F;	// 角色状态返回
	eMessageAdmin_DeleteRole_A 				= 0xA020;	// 删除角色
	eMessageAdmin_DeleteRole_G 				= 0xA021;	// 删除角色返回
	eMessageAdmin_UpdateGuideStep_A			= 0xA022;	// 更新新手引导步骤
	eMessageAdmin_UpdateGuideStep_G			= 0xA023;	// 更新新手引导步骤返回
	eMessageAdmin_ContinuePay_A 			= 0xA024;	// 继续支付
	eMessageAdmin_ContinuePay_G 			= 0xA025;	// 继续支付返回
	eMessageAdmin_GetCharacterInfo_A		= 0xA026;	// 获取角色信息
	eMessageAdmin_GetCharacterInfo_G		= 0xA027;	// 获取角色信息返回
	eMessageAdmin_ModifyInfo_A				= 0xA028;	// 修改角色信息
	eMessageAdmin_ModifyInfo_G				= 0xA029;	// 修改角色信息返回
	eMessageAdmin_GetItemList_A 			= 0xA02A;	// 获取物品列表
	eMessageAdmin_GetItemList_G 			= 0xA02B;	// 获取物品列表返回
	eMessageAdmin_GetItemInfo_A 			= 0xA02C;	// 获取物品详细信息
	eMessageAdmin_GetItemInfo_G 			= 0xA02D;	// 获取物品详细信息返回
	eMessageAdmin_SetItemInfo_A 			= 0xA02E;	// 修改物品详细信息
	eMessageAdmin_SetItemInfo_G 			= 0xA02F;	// 修改物品详细信息返回
	eMessageAdmin_GetHeroList_A 			= 0xA030;	// 获取英雄列表
	eMessageAdmin_GetHeroList_G 			= 0xA031;	// 获取英雄列表返回
	eMessageAdmin_GetHeroInfo_A 			= 0xA032;	// 获取英雄详细信息
	eMessageAdmin_GetHeroInfo_G 			= 0xA033;	// 获取英雄详细信息返回
	eMessageAdmin_SetHeroInfo_A 			= 0xA034;	// 设置英雄详细信息
	eMessageAdmin_SetHeroInfo_G 			= 0xA035;	// 设置英雄详细信息返回
	eMessageAdmin_AddHero_A 				= 0xA036;	// 添加英雄
	eMessageAdmin_AddHero_G 				= 0xA037;	// 添加英雄返回
	eMessageAdmin_GetOnlinePeak_A 			= 0xA038;	// 获取服务器在线峰值
	eMessageAdmin_GetOnlinePeak_G 			= 0xA039;	// 服务器在线峰值返回
	eMessageAdmin_GetRoleList_A 			= 0xA03A;	// 获取角色列表
	eMessageAdmin_GetRoleList_G 			= 0xA03B;	// 角色列表返回
	eMessageAdmin_AddPayRecord_G 			= 0xA03C;	// 增加支付记录
	eMessageAdmin_GetPayRecord_G 			= 0xA03D;	// 获取支付记录
	eMessageAdmin_GetPayRecord_A 			= 0xA03E;	// 支付记录返回
	eMessageAdmin_DrawPayReturn_G 			= 0xA03F;	// 领取支付返还
	eMessageAdmin_DrawPayReturn_A 			= 0xA040;	// 领取支付返还
	eMessageAdmin_SetServerVariable_A 		= 0xA041;	// 设置服务器参数
	eMessageAdmin_DrawTencentPacks_A 		= 0xA042;	// 领取应用宝礼包
};

//
// 错误码定义
//
enum ErrorcodeAdmin
{
	eErrorcodeAdmin_Success 		= 0x000000;	// 正确
};

// Agent索引
message MessageAdminZoneIndexNotify
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ZoneIndex_G ];
	required uint32 				zoneindex 	= 2;	// 区服索引
	repeated uint32 				mergelist 	= 3;	// 合服列表
	optional string 				host 		= 4;	// Agent主机地址
	optional uint32 				port 		= 5;	// Agent端口号
};

// GM命令行
message MessageAdminShellCmdRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ShellCmd_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional string 				cmdline		= 3;	// 命令行
};
message MessageAdminShellCmdResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ShellCmd_G ];
	optional string 				cmdresp 	= 2;	// 命令行返回
};

// 查询角色ID
message MessageAdminQueryRoleIDRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleID_A ];
	optional string 				rolename 	= 2;	// 角色名
};
message MessageAdminQueryRoleIDResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleID_G ];
	optional string 				rolename 	= 2;	// 角色名
	optional uint64 				roleid 		= 3;	// 角色名对应的角色ID
};

// 角色禁言
message MessageAdminShutupRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_Shutup_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint32 				seconds 	= 3;	// 禁言时间
};
message MessageAdminShutupResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_Shutup_G ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint64 				expiretime 	= 3;	// 解禁时间
};

// 角色封号
message MessageAdminBannedAccountRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_BannedAccount_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint32 				seconds 	= 3;	// 封号时间
};
message MessageAdminBannedAccountResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_BannedAccount_G ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint64 				expiretime 	= 3;	// 解禁时间
};

// 发送公告
message MessageAdminSendBulletinRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendBulletin_A ];
	required int32 					bulletinid	= 2;	// 公告ID
	required int32 					priority	= 3;	// 优先级
	required int32 					cycletimes 	= 4;	// 轮播次数
	required int64 					starttime 	= 5;	// 公告发送时间
	required int64 					endtime 	= 6;	// 公告结束时间
	required int32 					interval	= 7;	// 发送时间间隔
	required int32 					showplace 	= 8;	// 显示位置
	required string 				message 	= 9;	// 公告消息体
};
message MessageAdminSendBulletinResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendBulletin_G ];
	required int32 					bulletinid	= 2;	// 公告ID
};

// 删除公告
message MessageAdminRemoveBulletinRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_RemoveBulletin_A ];
	required int32 					bulletinid	= 2;	// 公告ID
};
message MessageAdminRemoveBulletinResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_RemoveBulletin_G ];
	required int32 					bulletinid	= 2;	// 公告ID
};

// 发送GM邮件
message MessageSendMailRequest
{
	enum MailType
	{
		eMailType_All 				= 1;	// 所有玩家
		eMailType_Online 			= 2;	// 当前在线玩家,不接受额外参数
		eMailType_UidList 			= 3;	// 指定ID列表的玩家,列表长度<=100
		eMailType_Specify			= 4;	// 指定条件的玩家
	};

	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendMail_A ];
	required uint32 				mailid 		= 2;	// GM邮件ID, GM后台保证唯一
	required MailType 				type 		= 3;	// 邮件类型
	optional string 				condition	= 4;	// 指定的条件
	required uint64 				startime 	= 5;	// 开始时间
	required uint64 				endtime  	= 6;	// 结束时间
	required string 				title 		= 7;	// 标题
	required string 				content 	= 8;	// 内容
	repeated Resource 				attachment	= 9;	// 附件
	required string 				sender 		= 10;	// 发送者描述
	required uint32 				tag 		= 11;	// 标签
	required uint32 				keepdays 	= 12;	// 保留日期
};
message MessageSendMailResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendMail_G ];
	required uint32 				mailid 		= 2;	// 邮件ID
};

message MessageExchangeTicketRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ExchangeTicket_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				affcode 	= 3;	// 渠道码
	required string 				giftticket 	= 4;	// 礼包券
};
message MessageExchangeTicketResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ExchangeTicket_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				affcode 	= 3;	// 渠道码
	required string 				giftticket 	= 4;	// 礼包券
	required int32 					result 		= 5;	// 结果
	repeated Resource  				gifts 		= 6;	// 礼包内容
};

message MessageQueryRoleStatusRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_A ];
	required uint64 				roleid 		= 2;	// 角色ID
};
message MessageQueryRoleStatusResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required RoleStatus 			rolestatus 	= 3;	// 角色状态
};

message MessageDeleteRoleRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_A ];
	required string 				account 	= 2;	// 账号
	required uint64 				roleid 		= 3;	// 角色ID
};
message MessageDeleteRoleResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_G ];
	required bool 					result 		= 2;	// 结果
	required string 				account 	= 3;	// 账号
	required uint64 				roleid 		= 4;	// 角色ID
};

message MessageUpdateGuideStepRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_UpdateGuideStep_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				step 		= 3;	// 步骤
	required uint32 				state 		= 4;	// 状态
};
message MessageUpdateGuideStepResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_UpdateGuideStep_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				step 		= 3;	// 步骤
	required uint32 				state 		= 4;	// 状态
};

message MessageContinuePayRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ContinuePay_A ];
	required string  				account 	= 2; 	// 平台账号
	required uint64 				uid 		= 3;	// 角色ID
	required string 				order 		= 4;	// 支付订单号
	required string 				packages 	= 5;	// 套餐
	required uint32 				number 		= 6;	// 套餐数量
};
message MessageContinuePayResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ContinuePay_A ];
	required string  				account 	= 2; 	// 平台账号
	required uint64 				uid 		= 3;	// 角色ID
	required string 				order 		= 4;	// 支付订单号
	required string 				packages 	= 5;	// 套餐
	required uint32 				number 		= 6;	// 套餐数量
	required bool 					payresult 	= 7;	// 支付结果
};

message MessageGetCharacterInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetCharacterInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
};
message MessageGetCharacterInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetCharacterInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
    required string 				content		= 3;	// 角色信息
};

message MessageModifyInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ModifyInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				content 	= 3;	// 信息内容
};
message MessageModifyInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ModifyInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
    required string 				content		= 3;	// 角色信息
};

// 查询物品列表
message MessageGetItemListRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetItemList_A ];
	required uint64 				roleid 		= 2;	// 角色ID
};
message MessageGetItemListResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetItemList_G ];
	required uint64 				roleid 		= 2;	// 角色ID
    required string 				content		= 3;	// 角色信息
};

// 查询物品详细信息
message MessageGetItemInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetItemInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint64 				entityid 	= 3;	// 实体ID
};
message MessageGetItemInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetItemInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint64 				entityid 	= 3;	// 实体ID
    required string 				content		= 4;	// 物品信息
};

// 修改物品详细信息
message MessageSetItemInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SetItemInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint64 				entityid 	= 3;	// 实体ID
    required string 				content		= 4;	// 物品信息
};
message MessageSetItemInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SetItemInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint64 				entityid 	= 3;	// 实体ID
    required string 				content		= 4;	// 物品信息
};

// 获取英雄列表
message MessageGetHeroListRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetHeroList_A ];
	required uint64 				roleid 		= 2;	// 角色ID
};
message MessageGetHeroListResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetHeroList_G ];
	required uint64 				roleid 		= 2;	// 角色ID
    required string 				content		= 3;	// 英雄列表
};

// 获取英雄详细信息
message MessageGetHeroInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetHeroInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				heroid 		= 3;	// 英雄id
};
message MessageGetHeroInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetHeroInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
    required string 				content		= 3;	// 英雄列表
};

// 修改英雄详细信息
message MessageSetHeroInfoRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SetHeroInfo_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				heroid 		= 3;	// 英雄id
	required string 				content 	= 4;	// 英雄详细信息
};
message MessageSetHeroInfoResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SetHeroInfo_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				content 	= 3;	// 英雄详细信息
};

// 添加英雄
message MessageAddHeroRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_AddHero_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				heroid 		= 3;	// 英雄id
};
message MessageAddHeroResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_AddHero_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				content 	= 3;	// 英雄详细信息
};

// 获取在线峰值
message MessageGetOnlinePeakRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetOnlinePeak_A ];
};
message MessageGetOnlinePeakResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetOnlinePeak_A ];
	required uint32 				zone 		= 2;	// 区服ID
	required uint32 				count 		= 3;	// 当前在线角色数
	repeated uint32 				peaklist 	= 4;	// 峰值在线列表
};

// 获取角色列表
message MessageGetRoleListRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetRoleList_A ];
	required string 				account 	= 2;	// 账号
};
message MessageGetRoleListResponse
{
	message RoleInfo
	{
		required uint64 		roleid 		= 1;	// 角色ID
		required uint32 		zoneindex 	= 2;	// 区服ID
		required uint32 		level 		= 3;	// 等级
		required string 		rolename 	= 4;	// 角色名
	};

	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetRoleList_G ];
	required string 				account 	= 2;	// 账号
	repeated RoleInfo 				rolelist 	= 3;	// 角色列表
};

// 添加支付记录
message MessageAddPayRecordRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_AddPayRecord_G ];
	required string 				account 	= 2;	// 账号
	required uint32 				zoneindex 	= 3;	// 区服索引
	required uint32 				paymoney 	= 4;	// 支付金额
};

// 获取支付记录
message MessageGetPayRecordRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetPayRecord_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				account 	= 3;	// 账号
	required uint32 				zoneindex 	= 4;	// 区服索引
};
message MessageGetPayRecordResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_GetPayRecord_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				account 	= 3;	// 账号
	required uint32 				zoneindex 	= 4;	// 区服索引
	required uint32 				paymoney 	= 5;	// 支付金额
};

// 领取支付返还
message MessageDrawPayReturnRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_DrawPayReturn_G ];
	required string 				account 	= 2;	// 账号
	required uint32 				zoneindex 	= 3;	// 区服索引
	required uint64 				roleid 		= 4;	// 角色ID
};
message MessageDrawPayReturnResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_DrawPayReturn_A ];
	required string 				account 	= 2;	// 账号
	required uint32 				zoneindex 	= 3;	// 区服索引
	required uint64 				roleid 		= 4;	// 角色ID
	required uint32 				paymoney 	= 5;	// 支付金额
};

// 设置服务器参数
message MessageSetServerVariable
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SetServerVariable_A ];
	optional uint32 				status 		= 2;	// 状态
	optional uint32 				onlinecount = 3;	// 在线人数
	optional string 				appversion	= 4;	// 客户端最低版本号
};

// 领取应用宝礼包
message MessageDrawTencentPacksRequest
{
	optional MessageAdmin           id          = 1 [ default = eMessageAdmin_DrawTencentPacks_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required uint32 				taskid 		= 3;	// 礼包id
	required string 				content 	= 4;	// 信息内容
};
