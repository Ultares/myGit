package msg.quest;

import "questtype.proto";

//
// 命令字定义
//
enum MessageQuest
{
	eMessageQuest_GetQuestList_C 			= 0x1500;	// 获取任务列表
	eMessageQuest_DailyQuestList_S 			= 0x1501;	// 日常任务列表
	eMessageQuest_AchievementList_S 		= 0x1502;	// 成就列表

	eMessageQuest_AcceptQuest_S 			= 0x1506;	// 新接领任务
	eMessageQuest_QuestProgress_S 			= 0x1507;	// 任务进度
	eMessageQuest_SubmitQuest_C 			= 0x1508;	// 提交任务
	eMessageQuest_SubmitQuest_S 			= 0x1509;	// 提交任务返回
	eMessageQuest_DrawDailyRewards_C		= 0x150A;	// 领取日常任务奖励
	eMessageQuest_DrawDailyRewards_S 		= 0x150B;	// 领取日常任务奖励返回
};

//
// 错误码定义
//
enum ErrorcodeQuest
{
	eErrorcodeQuest_Success 				= 0x000000;	// 成功

    eErrorcodeQuest_QuestIsntDoing          = 0x150801; // 任务未进行
    eErrorcodeQuest_QuestIsntComplete       = 0x150802; // 2B!任务没完成呢
    eErrorcodeQuest_QuestConfigError        = 0x150803; // 亲~策划没有配置这个任务
    eErrorcodeQuest_BagNotSpace             = 0x150804; // 爽吧!背包放不下了

	eErrorcodeQuest_StageInvalid 			= 0x150A01;	// 尼玛, 没有这个阶段奖励
	eErrorcodeQuest_HavebeenDrawed			= 0x150A02;	// 该阶段的奖励你领过了
	eErrorcodeQuest_ScoreNotEnough			= 0x150A03;	// 亲，积分没有攒够哦
	eErrorcodeQuest_DropIDInvalid			= 0x150A04;	// 十分不好意思，策划小哥配错了
	eErrorcodeQuest_BagNotSpace2			= 0x150A05;	// 是时候清理背包了
};

// 获取任务列表
message MessageGetQuestList
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_GetQuestList_C ];
	optional uint32 			type 		= 2;		// 任务类型
};

// 日常任务列表
message MessageDailyQuestList
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_DailyQuestList_S ];
	required uint32 			status 		= 2;		// 活跃度领取状态
	repeated uint32 			donelist 	= 3;		// 完成列表
	repeated QuestInfoBase 		doinglist 	= 4;		// 正在进行的任务列表
};

// 成就列表
message MessageAchievementList
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_AchievementList_S ];
	repeated QuestInfoBase 		doinglist 	= 2;		// 正在进行的成就列表
};

// 新接领任务
message MessageAcceptQuest
{
	optional MessageQuest 		id 		 	= 1 [ default = eMessageQuest_AcceptQuest_S ];
	required QuestInfoBase 		questinfo 	= 2;		// 新接领的任务信息
};

// 任务进度
message MessageQuestProgress
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_QuestProgress_S ];
	required QuestProgress 		progress 	= 2;		// 任务进度
};

// 提交任务
message MessageSubmitQuestRequest
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_SubmitQuest_C ];
	required uint32 			questid 	= 2;		// 任务ID
};
message MessageSubmitQuestResponse
{
	optional MessageQuest 		id 			= 1 [ default = eMessageQuest_SubmitQuest_S ];
	required uint32 			questid 	= 2;		// 任务ID
};

// 领取日常任务奖励
message MessageDrawDailyQuestRewardsRequest
{
	optional MessageQuest 		id 		 	= 1 [ default = eMessageQuest_DrawDailyRewards_C ];
	required uint32 			stage 		= 2;		// 分段
};
message MessageDrawDailyQuestRewardsResponse
{
	optional MessageQuest 		id 		 	= 1 [ default = eMessageQuest_DrawDailyRewards_S ];
	required uint32 			stage 		= 2;		// 分段
};
