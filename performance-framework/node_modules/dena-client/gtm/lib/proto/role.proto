package msg.role;

import "base.proto";

//
// 命令字定义
//
enum MessageRole
{
	eMessageRole_Login_C               	= 0x1001;	// 玩家登陆
	eMessageRole_Logout_CS              = 0x1002;	// 角色登出
	eMessageRole_RoleList_S            	= 0x1003;	// 玩家的角色列表
	eMessageRole_CreateRole_C          	= 0x1004;	// 玩家创建角色
	eMessageRole_CreateRole_S          	= 0x1005;	// 玩家创建角色返回
	eMessageRole_EnterGame_C           	= 0x1006;	// 角色进入游戏
	eMessageRole_RoleDetail_S          	= 0x1007;	// 角色详细信息
	eMessageRole_PropChange_S          	= 0x1008;	// 角色属性变更
	eMessageRole_ExpChange_S           	= 0x1009;	// 角色经验变更
	eMessageRole_CheckRolename_C       	= 0x100A;	// 检查角色名
	eMessageRole_CheckRolename_S       	= 0x100B;	// 检查角色名返回
	eMessageRole_GetOpenSystem_C       	= 0x100C;	// 查询系统开放列表请求
	eMessageRole_GetOpenSystem_S       	= 0x100D;	// 查询系统开放列表回应
	eMessageRole_NotifyOpenSystem_S    	= 0x100E;	// 通知系统开放
	eMessageRole_NotifyList_S 			= 0x100F;	// 通知列表(小红点)
	eMessageRole_Chat_CS               	= 0x1010;	// 角色聊天
	eMessageRole_GachaInfo_C           	= 0x1011;	// 获取Gacha信息
	eMessageRole_GachaInfo_S           	= 0x1012;	// Gacha信息返回
	eMessageRole_Gacha_C               	= 0x1013;	// Gacha
	eMessageRole_Gacha_S               	= 0x1014;	// Gacha返回
	eMessageRole_DailyDoTimes_C		   	= 0x1015;	// 请求每日次数
	eMessageRole_DailyDoTimes_S		   	= 0x1016;	// 回应每日次数
	eMessageRole_BuyStrength_C		   	= 0x1017;	// 购买体力请求
	eMessageRole_BuyStrength_S 		   	= 0x1018;	// 购买体力返回
	eMessageRole_GetRoleInfo_C		   	= 0x1019;	// 获取角色信息
	eMessageRole_GetRoleInfo_S 		   	= 0x101A;	// 返回角色信息
	eMessageRole_GetRankList_C		   	= 0x101B;	// 获取排行榜列表
	eMessageRole_GetRankList_S 		   	= 0x101C;	// 返回排行榜列表
	eMessageRole_GetVipLVRewardInfo_C  	= 0x101D;	// 获取vip等级奖励信息
	eMessageRole_GetVipLVRewardInfo_S  	= 0x101E;	// 获取vip等级奖励信息
	eMessageRole_GetVipLVReward_C	   	= 0x101F;	// 获取vip等级奖励
	eMessageRole_GetVipLVReward_S	   	= 0x1020;	// 获取vip等级奖励
	eMessageRole_GetTiroGuideInfo_C	   	= 0x1021;	// 新手引导信息请求
	eMessageRole_GetTiroGuideInfo_S    	= 0x1022;	// 新手引导信息回应
	eMessageRole_UpdateTiroGuide_C 	   	= 0x1023;	// 更新新手引导请求
	eMessageRole_UpdateTiroGuide_S 	   	= 0x1024;	// 更新新手引导回应
	eMessageRole_GetSoulInfo_C 		   	= 0x1025;	// 获取武魂信息请求
	eMessageRole_GetSoulInfo_S 		   	= 0x1026;	// 获取武魂信息回应
	eMessageRole_ActivateSoul_C 	   	= 0x1027;	// 激活武魂请求
	eMessageRole_ActivateSoul_S 	   	= 0x1028;	// 激活武魂回应
	eMessageRole_GetDialogue_C 			= 0x1029;	// 获取剧情信息
	eMessageRole_GetDialogue_S 			= 0x102A;	// 获取剧情信息返回
	eMessageRole_UpdateDialogue_C 		= 0x102B;	// 更新剧情信息
	eMessageRole_UpdateDialogue_S 		= 0x102C;	// 更新剧情信息返回
	eMessageRole_QueryRoleStatus_C		= 0x102D;	// 根据角色名查找角色状态
	eMessageRole_QueryRoleStatus_S 		= 0x102E;	// 根据角色名查找角色状态
	eMessageRole_BuySkillPoint_C 		= 0x102F;	// 购买技能点请求
	eMessageRole_BuySkillPoint_S 		= 0x1030;	// 购买技能点回应
	eMessageRole_ExchangeGamecoin_C		= 0x1031;	// 兑换金币(点金手)
	eMessageRole_ExchangeGamecoin_S		= 0x1032;	// 兑换金币(点金手)
	eMessageRole_GetBookInfo_C 			= 0x1033;	// 查询图鉴信息请求
	eMessageRole_GetBookInfo_S			= 0x1034;	// 查询图鉴信息回应
	eMessageRole_BookUpLevel_C 			= 0x1035;	// 图鉴升级请求
	eMessageRole_BookUpLevel_S			= 0x1036;	// 图鉴升级回应
	eMessageRole_NotifyFirstShot_S		= 0x1037;	// 通知先手值
	eMessageRole_DrawVipRewards_C		= 0x1038;	// 领取VIP奖励
	eMessageRole_DrawVipRewards_S 		= 0x1039;	// 领取VIP奖励
	eMessageRole_DrawMonthCardRewards_C	= 0x103A;	// 领取月卡奖励
	eMessageRole_DrawMonthCardRewards_S = 0x103B;	// 领取月卡奖励返还
	eMessageRole_GetTitleInfo_C 	 	= 0x103C;	// 获取称号信息请求
	eMessageRole_GetTitleInfo_S			= 0x103D;	// 获取称号信息回应
	eMessageRole_ChangeTitle_C 			= 0x103E;	// 设置称号请求
	eMessageRole_ChangeTitle_S 			= 0x103F;	// 设置称号回应
	eMessageRole_ChangeFace_C			= 0x1040;	// 设置头像框请求
	eMessageRole_ChangeFace_S			= 0x1041;	// 设置头像框回应
	eMessageRole_NotifyTitleInfo_S 		= 0x1042;	// 通知称号列表更新
	eMessageRole_SyncSkillPointInfo_C 	= 0x1043;	// 同步玩家技能点相关信息请求
	eMessageRole_SyncSkillPointInfo_S 	= 0x1044;	// 同步玩家技能点相关信息回应
	eMessageRole_Share_C 				= 0x1045;	// 分享请求
	eMessageRole_Share_S 				= 0x1046;	// 分享回应
	eMessageRole_Spend_C				= 0x10A1;	// 充值检查
	eMessageRole_Spend_S				= 0x10A2;	// 充值检查返回
	eMessageRole_ChangeNameTest_C		= 0x10A3;	// 改名
	eMessageRole_ChangeNameTest_S		= 0x10A4;	// 改名返回
	eMessageRole_ChangeSakasho_C		= 0x10B1;	// 设置玩家sakasho信息
	eMessageRole_ChangeSakasho_S		= 0x10B2;	// 设置玩家sakasho信息返回
};

//
// 错误码定义
//
enum ErrorcodeRole
{
	eErrorcodeRole_Success 					= 0x000000;	// 成功

	eErrorcodeRole_SystemBusy				= 0x100101;	// 系统繁忙
	eErrorcodeRole_VerifyFailure			= 0x100102;	// 平台验证失败
	eErrorcodeRole_ClientVersionTooOld		= 0x100103;	// 您的版本太老, 请下载最新版本
	eErrorcodeRole_SystemMaintain			= 0x100104;	// 服务器正在维护中
	eErrorcodeRole_InvalidZoneIndex 		= 0x100401;	// 本服不管理该区服
	eErrorcodeRole_HaveRoleInZone 			= 0x100402;	// 玩家在该区服中已经创过角色
	eErrorcodeRole_ProcessBuildRole 		= 0x100403;	// 正在创角, 请稍后
	eErrorcodeRole_RolenameTooLong			= 0x100404;	// 角色名太长了
	eErrorcodeRole_InvalidRolename			= 0x100405;	// 角色名中有非法字符
	eErrorcodeRole_DuplicationOfName		= 0x100406;	// 角色名重名
	eErrorcodeRole_ServerInternal 			= 0x100407;	// 创角出现内部错误
    eErrorcodeRole_CreateRoleTimeout		= 0x100408; // 创角超时
    eErrorcodeRole_InvalidHeroID    		= 0x100409; // 非法英雄ID
	eErrorcodeRole_RoleNotOpen				= 0x10040A;	// 英雄暂未开放
	eErrorcodeRole_InvalidAccount			= 0x10040B;	// 帐号非法
	eErrorcodeRole_DenyCreateRole			= 0x10040C;	// 服务器繁忙, 请到其他服务器创建角色
	eErrorcodeRole_InvalidRoleID			= 0x100601;	// 角色ID非法
	eErrorcodeRole_NewRoleFailed			= 0x100602;	// 新建角色失败
	eErrorcodeRole_LoadFromDBFailed			= 0x100603;	// 从数据库加载失败
	eErrorcodeRole_BannedAccount			= 0x100604;	// 角色被封号
	eErrorcodeRole_Unverified 				= 0x100605;	// 未验证通过的连接
    eErrorcodeRole_ChatLevelLimits  		= 0x101001; // 亲,侬等级还不够呀
    eErrorcodeRole_YouShutupNow     		= 0x101002; // 你小子被禁言了，还瞎哔哔
    eErrorcodeRole_SpeakTooFast     		= 0x101003; // 说话咋能这样快呢～
	eErrorcodeRole_ChannelInvalid 			= 0x101004;	// 非法的频道
	eErrorcodeRole_ToUserInvalid 			= 0x101005;	// 您到底想和谁私聊啊~
	eErrorcodeRole_TalkSelf					= 0x101006;	// 尼玛, 和自己说啥啊～
	eErrorcodeRole_ToUserOffline			= 0x101007;	// 抱歉, 对方下线了
	eErrorcodeRole_InBlackList				= 0x101008;	// 对方已经把你拉黑了
	eErrorcodeRole_ChatLengthLimits			= 0x101009;	// 您发的内容太长了
	eErrorcodeRole_InvalidGachaID			= 0x101301;	// 非法的GachaID
	eErrorcodeRole_PropNotEnough 			= 0x101302;	// Gacha所需的资源不足
	eErrorcodeRole_DailyTimesOver 			= 0x101303;	// 每次次数用完
	eErrorcodeRole_GachaColdDown			= 0x101304;	// Gacha处于CD中
	eErrorcodeRole_GachaBagFull				= 0x101305;	// Gacha背包空间不足
	eErrorcodeRole_GachaNeedPay 			= 0x101306;	// 本次Gacha需要付费
	eErrorcodeRole_GachaIsnotOpened			= 0x101307;	// Gacha功能未开放
	eErrorcodeRole_GachaExpire				= 0x101308;	// Gacha已经失效
	eErrorcodeRole_GachaVipLevelLimit		= 0x101309;	// 您的VIP等级未达到
	eErrorcodeRole_GachaMethodInvalid 		= 0x10130A;	// Gacha方法非法
	eErrorcodeRole_VipConfigError			= 0x101701;	// 策划小哥不让大爷买体力
	eErrorcodeRole_BuyStrengthLimit			= 0x101702;	// 大爷～您还买啊～
	eErrorcodeRole_BuyStrCostError			= 0x101703;	// 策划小哥还没有来得及定价哟～
	eErrorcodeRole_BuyStrNotEnough			= 0x101704;	// 丫的没钱啥也买不到
	eErrorcodeRole_BuyStrengthTimes 		= 0x101705;	// 购买次数已达上限，提升vip等级可增加购买次数
	eErrorcodeRole_InvalidRoleID2			= 0x101901;	// 查找的角色不存在
	eErrorcodeRole_InvalidVipLv 			= 0x101F01;	// 非法的Vip等级
	eErrorcodeRole_VipLvZero				= 0x101F02;	// 还不是vip哦，快去充值吧
	eErrorcodeRole_VipLvRewardGoted 		= 0x101F03;	// 奖励已经领取
	eErrorcodeRole_VipBagNotEnough 			= 0x101F04;	// 背包不足
	eErrorcodeRole_VipMoneyNotEnough 		= 0x101F05;	// 魂玉不足，请充值
	eErrorcodeRole_GetSoulNotOpen 			= 0x102501;	// 武魂系统未开放
	eErrorcodeRole_SoulNotOpen 				= 0x102701;	// 武魂系统未开放
	eErrorcodeRole_SoulLimit 				= 0x102702;	// 武魂已达最高境界
	eErrorcodeRole_SoulNotMaterial 			= 0x102703; // 材料不足
	eErrorcodeRole_SoulNotBag 				= 0x102704;	// 背包不足
	eErrorcodeRole_RolenameInvalid 			= 0x102D01;	// 角色名不存在
	eErrorcodeRole_RoleIDInvalid			= 0x102D02;	// 该玩家不存在
	eErrorcodeRole_SkillNotVip 				= 0x102F01;	// vip等级不足
	eErrorcodeRole_SkillNotZero 			= 0x102F02;	// 技能点不为0不能购买
	eErrorcodeRole_SkillNotMoney			= 0x102F03;	// 魂玉不足
	eErrorcodeRole_ToomuchExchangeTimes 	= 0x103101;	// 您今天的兑换次数已达上限
	eErrorcodeRole_MoneyNotEnough			= 0x103102;	// 您的元宝不够
	eErrorcodeRole_ExchangeTimesInvalid 	= 0x103103;	// 兑换次数非法
	eErrorcodeRole_BookInvalidEntityID 		= 0x103501;	// 非法的物品实体id
	eErrorcodeRole_BookLevelNotEnough 		= 0x103502;	// 使用等级不足
	eErrorcodeRole_BookCanNotUse 			= 0x103503;	// 物品不可使用
	eErrorcodeRole_BookCanNotUpLevel 		= 0x103504;	// 不可以升级
	eErrorcodeRole_BookIDInvalid 			= 0x103505;	// 非法图鉴ID
	eErrorcodeRole_VipRewardsIndexError		= 0x103801;	// 您想领取的奖励没有配置
	eErrorcodeRole_VipRewardsDrawed			= 0x103802;	// 您已经领取过该VIP的奖励
	eErrorcodeRole_VipRewardsBagFull		= 0x103803;	// 您的包裹已满
	eErrorcodeRole_VipLevelEnough 			= 0x103804;	// 您的VIP等级未达成
	eErrorcodeRole_MonthCardInvalid			= 0x103A01;	// 您的月卡没有找到
	eErrorcodeRole_NotInvestedMonthCard		= 0x103A02;	// 您未投资过这个月卡
	eErrorcodeRole_MonthCardRewardsDrawed	= 0x103A03;	// 您已经领取过当天返还的奖励了
	eErrorcodeRole_MonthCardRewardsBagFull	= 0x103A04;	// 您的背包已经满了，请整理
	eErrorcodeRole_ChangeTitleInvalidID 	= 0x103E01;	// 非法id
	eErrorcodeRole_ChangeTitleNotGot		= 0x103E02; // 称号未获得
	eErrorcodeRole_ChangeTitleisExpired 	= 0x103E03; // 称号已过期
	eErrorcodeRole_ChangeFaceInvalidID 		= 0x104001;	// 非法id
	eErrorcodeRole_ChangeFaceNotGot			= 0x104002; // 头像框未获得
	eErrorcodeRole_ChangeFaceisExpired 		= 0x104003; // 头像框已过期
	eErrorcodeRole_MoneyErrorNotDeal 		= 0x10A001; // 有失败的钻石操作还未处理
	eErrorcodeRole_OperateFailed 			= 0x10A002; // 操作失败
	eErrorcodeRole_AgeQueryIsNotMatch 		= 0x10A101; // 搜索的玩家年龄不匹配
	eErrorcodeRole_AgeChatIsNotMatch 		= 0x10A102; // 聊天的玩家年龄不匹配
};

//
// 消息定义
//

// 玩家登陆
message MessageRoleLogin
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_Login_C ];
	required string  			account		= 2;	// 平台账号
	optional int32 				zoneindex 	= 3;	// 区服编号
	required string 			token 		= 4;	// 令牌
	optional string 			credential	= 5;	// 凭据
	optional string 			clienthost 	= 6;	// 客户端IP地址(服务器默认填充)
	required string 			version 	= 7;	// 客户端版本号
};

// 角色登出
message MessageRoleLogout
{
	enum Reason
	{
		eReason_Logout 						= 1;	// 正常登出
		eReason_Kickoff 					= 2;	// 被踢出
		eReason_BadChecksum 				= 3;	// 非法的数据包
		eReason_BannedAccount			 	= 4;	// 您已经被封号
		eReason_SendRateLimit				= 5;	// 发包速度受到限制
	};

	optional MessageRole 		id 		 	= 1 [ default = eMessageRole_Logout_CS ];
	required uint64 			roleid		= 2;	// 角色ID
	optional Reason 			reason 		= 3;	// 原因
};

// 玩家支付请求
message MessageRoleSpendRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_Spend_C ];
};
// 玩家支付结果
message MessageRoleSpendResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_Spend_S ];
	required string  			account		= 2;	// 平台账号
	optional int32 				zoneindex 	= 3;	// 区服编号
	required string 			itemjson	= 4;	// 充值结果的json字符串
	optional int32 				count 		= 5;	// 充值数额
};

// 玩家改名请求
message MessageRoleChangeNameTestRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeNameTest_C ];
	optional string				account		= 2;	// 帐号
	optional int32 				zoneindex 	= 3;	// 区服编号
	optional uint64				roleid		= 4;	// 角色ID
	optional string				old_name	= 5;	// 老角色名
	optional string				new_name    = 6;	// 新角色名
};
// 玩家改名结果
message MessageRoleChangeNameTestResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeNameTest_S ];
	optional uint64				roleid		= 2;	// 角色ID
	required string				rolename    = 3;	// 角色名
	optional bool 				result		= 4;	// 结果
};

// 设置玩家年龄区间ID
message MessageRoleChangeSakashoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeSakasho_C ];
	optional int32				age			= 2;	// 帐号
};
// 设置玩家年龄区间ID返回
message MessageRoleChangeSakashoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeSakasho_S ];
	optional bool 				result		= 2;	// 结果
};

// 角色列表
message MessageRoleList
{
	message RoleInfo
	{
		optional uint64 		roleid 		= 1;	// 角色ID
		optional uint32 		heroid 		= 2;	// 默认的英雄ID
		optional uint32 		level 		= 3;	// 等级
		optional string 		rolename 	= 4;	// 角色名
		optional uint64 		lastlogintime=5;	// 最近一次登录时间
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_RoleList_S ];
	repeated RoleInfo 			rolelist 	= 2;	// 角色列表
	required string 			entertoken	= 3;	// EnterGame需要的token
};

// 玩家创建角色
message MessageCreateRoleRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_CreateRole_C ];
	optional string 			account 	= 2;	// 平台账号
	optional uint32 			zoneindex 	= 3;	// 区服索引
	optional string 			rolename 	= 4;	// 角色名
	optional uint32 			heroid 		= 5;	// 默认选取的英雄ID
	optional string 			device 		= 6;	// 客户端设备
	optional string 			version 	= 7;	// 客户端版本号
	// TODO: 账号来源以及邀请者账号...
};

// 玩家新建角色返回
message MessageCreateRoleResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_CreateRole_S ];
	optional uint64 			roleid 		= 2;	// 角色ID
	optional uint32         	heroid      = 3;	// 默认的英雄ID
	optional string 			rolename 	= 4;	// 角色名
};

// 角色进入游戏
message MessageRoleEnterGame
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_EnterGame_C ];
	required uint64 			roleid 		= 2;	// 角色ID
	optional string 			token 		= 3;	// 需要校验的TOKEN
	optional string 			clienthost 	= 4;	// 客户端IP地址(服务器默认填充)
	optional int32 				clientport  = 5;	// 客户端端口号(服务器默认填充)
	optional string 			device 		= 6;	// 客户端设备
	optional string 			version 	= 7;	// 客户端版本号
	optional int32 				suggest 	= 8 [ default = 1 ];	// 客户端进入场景的建议, 0:上一场景;1:主城
	optional int32 				age 		= 9;	// 玩家年龄 -1 默认值
};

// 角色详细信息
message MessageRoleDetailInfo
{
	// 区服信息定义
	message ZoneInfo
	{
		enum ZoneMode
		{
			eZoneMode_Mix 					= 0;	// 混合模式, 测试+正式服的功能
			eZoneMode_Beta 					= 1; 	// 测试服
			eZoneMode_Office 				= 2;	// 正式服
		};

		required int32 			index 		= 1;	// 区服编号
		required bool 			ismerge 	= 2;	// 是否合服
		required uint64 		startdate 	= 3;	// 开服日期
		required uint64 		servertime 	= 4;	// 服务器时间
		required ZoneMode 		mode 		= 5;	// 区服模式
	};
	// 角色详细信息定义
	message RoleDetailInfo
	{
		required uint64 		roleid 		= 1;	// 角色ID
		required string 		rolename  	= 2;	// 角色名
		required uint64 		exp 		= 3;	// 角色经验
		required uint32 		money 		= 4;	// 元宝
		required uint32  		gamecoin	= 5;	// 游戏币(金币)
		required uint32 		strength 	= 6;	// 体力
		required uint32 		vipexp 		= 7;	// VIP经验
		required uint32 		honor 		= 8;	// 荣誉值
		required uint32 		battlepoint = 9;	// 总战斗力(仅仅用于显示)
		required uint32 		heroticket 	= 10;	// 英雄券
		required uint32 		equipticket = 11;	// 装备券
		required uint32 		extraticket	= 12;	// 洗练券
		required uint32 		totalconsume= 13;	// 累积消费
		required uint32 		richscore 	= 14;	// 大富翁积分
		required uint32 		levelstars	= 15;	// 关卡星总数
		required uint32 		skillpoint 	= 16;	// 技能点
		required uint32 		firstshot	= 17;	// 先手值
		required uint32 		totalobtain = 18;	// 累积元宝获得
		required uint32 		totalpay 	= 19;	// 累积充值金额
		required uint32 		travelscore = 20;	// 华丽寻宝积分
		required uint32 		totalonlinedays = 21; // 连续登陆天数
	};
	// 消息体开始
	optional MessageRole 		id 			= 1 [ default = eMessageRole_RoleDetail_S ];
	required ZoneInfo 			zone 		= 2;	// 区服信息
	required uint32 			leader 		= 3;	// 队长角色ID
	required RoleDetailInfo 	role 		= 4;	// 角色详细信息
	required uint64 			createtime 	= 5;	// 创角时间
	required uint64 			recovertime = 6;	// 技能点上次恢复时间
};

// 角色属性变更
message MessageRolePropChange
{
	// 角色属性单元
	message RolePropUnit
	{
		optional RoleProp 		prop 		= 1;	// 属性
		optional uint32 		value 		= 2;	// 当前值
	};

	optional MessageRole 		id 			= 1 [default = eMessageRole_PropChange_S];
	repeated RolePropUnit 		changelist 	= 2;	// 改变列表
};

// 角色经验变更
message MessageRoleExpChange
{
	// 角色经验单元
	message RoleExpUnit
	{
		optional uint32 		heroid 	 	= 1;	// 角色ID
		optional uint64 		totalexp 	= 2;	// 总经验
	};

	optional MessageRole 		id 			= 1 [default = eMessageRole_ExpChange_S];
	repeated RoleExpUnit 		changelist 	= 2;	// 改变列表
};

// 检查角色名
message MessageCheckRolenameRequest
{
	optional MessageRole 		id 			= 1 [default = eMessageRole_CheckRolename_C];
	required string 			rolename 	= 2;	// 角色名
};
message MessageCheckRolenameResponse
{
	optional MessageRole 		id 			= 1 [default = eMessageRole_CheckRolename_S];
	required bool 				result  	= 2;	// 结果, 可用true, 不可用false
	required string 			rolename 	= 3;	// 角色名
};

// 角色聊天
message MessageRoleChat
{
	// 频道定义
	enum ChatChannel
	{
		eChatChannel_System 				= 1;	// 系统频道
		eChatChannel_World 					= 2;	// 世界频道
		eChatChannel_Guild 					= 3;	// 公会频道
		eChatChannel_Team 					= 4;	// 组队频道
		eChatChannel_Whisper 				= 5;	// 私聊频道
	};

	optional MessageRole 		id 		 	= 1 [ default = eMessageRole_Chat_CS ];
	optional ChatChannel  		channel 	= 2;	// 频道
	optional uint64 			senderid 	= 3;	// 发送方ID
	optional string 			sendername 	= 4;	// 发送方名字
	optional uint32 			heroid 		= 5;	// 队长英雄ID
	optional uint32 			level 		= 6;	// 角色等级
	optional uint32 			viplevel 	= 7;	// VIP等级
	optional int32 				platform 	= 8;	// 平台编号
	optional int32 				zoneid 		= 9;	// 区服ID
	optional uint64 			receiverid 	= 10;	// 接收者ID
	optional string 			receivername= 11;	// 接收者名字
	optional string 			content  	= 12;	// 消息内容
	optional int32 				age  		= 13;	// 发送方年龄区间ID
};

message MessageRoleGachaInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GachaInfo_C ];
};
message MessageRoleGachaInfoResponse
{
	message GachaInfo
	{
		required 	uint32 		id 			= 1; 	// GachaID
		optional 	uint32 		times 		= 2;	// 今日次数
		required 	int64 		timestamp 	= 3;	// 下次Gacha时间, -1:不可gacha;0:不限制;>0:下次到期时间
		optional 	int32 		goodtimes 	= 4;	// 预告第N次出现好东东, -1:未知,0:本次;>0:第N次
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_GachaInfo_S ];
	repeated GachaInfo 			list 		= 2; 	// Gacha信息
};

message MessageRoleGachaRequest
{
	enum Method
	{
		eMethod_Free 			= 1;		// 免费Gacha
		eMethod_Pay 			= 2;		// 付费Gacha
		eMethod_Item 			= 3;		// 道具Gacha
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_Gacha_C ];
	required uint32 			gachaid 	= 2; 	// GachaID
	required Method 			method 		= 3;	// Gacha方式
};
message MessageRoleGachaResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_Gacha_S ];
	required uint32 			gachaid 	= 2; 	// GachaID
	optional uint32 			times 		= 3;	// 第几次抽取
	required uint64 			timestamp 	= 4;	// 下次Gacha时间
	optional int32 				goodtimes 	= 5;	// 预告第N次出现好东东, -1:未知,0:本次;>0:第N次
	repeated Resource 			rewards 	= 6;	// 结果
};

// 查询系统开放
message MessageGetOpenSystemRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetOpenSystem_C ];
};
message MessageGetOpenSystemResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetOpenSystem_S ];
	repeated uint32 			systemid	= 2 [ packed = true ];
};

// 通知客户端系统开放
message MessageNotifyOpenSystem
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_NotifyOpenSystem_S ];
	repeated uint32 			systemid 	= 2 [ packed = true ];
};

// 每日次数
message MessageDailyDoTimesRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_DailyDoTimes_C ];
	required DoneType			type 		= 2;	// 次数限制类型
};
message MessageDailyDoTimesResponse
{
	message DoneTimes
	{
		required DoneType		type		= 1;	// 类型
		optional uint32			id 			= 2;	// id
		required uint32 		times 		= 3;	// 次数
	};

	optional MessageRole 		id 			= 1	[ default = eMessageRole_DailyDoTimes_S ];
	repeated DoneTimes 			times		= 2;	// 每日次数列表
}

// 购买体力
message MessageBuyStrengthRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BuyStrength_C ];
}
message MessageBuyStrengthResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BuyStrength_S ];
	required uint32 			money 		= 2;	// 需要的元宝
	required uint32 			times 		= 3;	// 当天购买的次数
}

// 角色信息
message MessageGetRoleInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetRoleInfo_C ];
	required uint64 			roleid 		= 2;	// 角色ID
	required uint32 			zoneindex	= 3;	// 区服索引
};
message MessageGetRoleInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetRoleInfo_S ];
	optional RoleBaseInfo 		role 		= 2;	// 角色信息
};

// 排行榜
message MessageGetRankListRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetRankList_C ];
	required RankType 			type 		= 2;	// 排行榜类型
};
message MessageGetRankListResponse
{
	message RankInfo
	{
		required uint64 		roleid		= 1;	// 角色ID
		required uint32 		rank 		= 2;	// 排名
		required uint32 		score 		= 3;	// 积分
		required uint32 		leader 		= 4;	// 队长ID
		required string 		rolename 	= 5;	// 角色名
		required uint32 		level  		= 6;	// 等级
		required uint32 		viplevel 	= 7;	// VIP等级
		required uint32 		battlepoint = 8;	// 战斗力
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetRankList_S ];
	required RankType  			type 		= 2;	// 排行榜类型
	required uint32 			rank 		= 3;	// 自己的排名
	required uint32 			score 		= 4;	// 自己的积分
	required uint32 			battlepoint = 5;	// 自己的战斗力
	required uint32 			count 		= 6;	// 榜单总数
	repeated RankInfo 			ranklist 	= 7;	// 排行榜榜单
};

// vip等级奖励领取信息
message MessageGetVipLVRewardInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetVipLVRewardInfo_C ];
};
message MessageGetVipLVRewardInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetVipLVRewardInfo_S ];
	required uint32 			reward      = 2;	// vip奖励领取标志
};

// 领取vip等级奖励
message MessageGetVipLVRewardRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetVipLVReward_C ];
	required uint32 			level 		= 2;	// vip等级
};
message MessageGetVipLVRewardResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetVipLVReward_S ];
	required uint32 			reward 		= 2;	// vip奖励领取标志
	required uint32 			level 		= 3;	// vip等级
};

// 新手引导信息查询
message MessageGetTiroGuideInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetTiroGuideInfo_C ];
};
message MessageGetTiroGuideInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetTiroGuideInfo_S ];
	required uint32 			guideid     = 2;	// 完成的指引id
	required uint32 			state 		= 3;	// 引导state
	repeated uint32 			finishlist  = 4 [ packed = true ];	// 已完成的指引列表
};

// 完成指定步骤的指引
message MessageUpdateTiroGuideRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_UpdateTiroGuide_C ];
	required uint32 			guideid 	= 2;	// 完成的指引id
	required uint32 			state 		= 3;	// 引导状态
};
message MessageUpdateTiroGuideResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_UpdateTiroGuide_S ];
	required uint32 			guideid     = 2;	// 完成的指引id
	required uint32 			state 		= 3;	// 引导state
};

// 获取武魂信息
message MessageGetSoulInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetSoulInfo_C ];
};
message MessageGetSoulInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetSoulInfo_S ];
	required uint32 			soul 		= 2;	// 武魂id
};

// 激活武魂
message MessageActivateSoulRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ActivateSoul_C ];
};
message MessageActivateSoulResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ActivateSoul_S ];
	required uint32 			soul 		= 2;	// 武魂id
};

// 剧情
message MessageGetDialogueRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetDialogue_C ];
	required uint32 			index 		= 2;	// 索引
};
message MessageGetDialogueResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetDialogue_S ];
	repeated uint32 			list 		= 2 [ packed = true ];
};

// 更新剧情
message MessageUpdateDialogueRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_UpdateDialogue_C ];
	required uint32 			dialogue 	= 2;	// 剧情
};
message MessageUpdateDialogueResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_UpdateDialogue_S ];
	required uint32 			dialogue 	= 2;	// 剧情
	required uint32 			count 		= 3;	// 剧情总数
};

// 根据角色名查找角色状态
message MessageQueryRoleStatusRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_QueryRoleStatus_C ];
	optional uint64 			roleid 		= 2;	// 角色ID
	optional string 			rolename 	= 3;	// 角色名
};
message MessageQueryRoleStatusResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_QueryRoleStatus_S ];
	required RoleStatus 		rolestatus 	= 2;	// 角色状态
	optional int32 				zoneindex 	= 3;	// 区服编号
};

// 获取通知列表(小红点)
message MessageSendNotifyList
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_NotifyList_S ];
	repeated uint32 			notifylist 	= 2 [ packed = true ];		// 通知列表
};

// 购买技能点
message MessageBuySkillPointRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BuySkillPoint_C ];
};
message MessageBuySkillPointResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BuySkillPoint_S ];
	required uint32 			times 		= 2;	 // 购买次数
};

// 兑换金币(点金手)
message MessageExchangeGamecoinRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ExchangeGamecoin_C ];
	required uint32 			times 		= 2;	// 次数
};
message MessageExchangeGamecoinResponse
{
	message ExchangeInfo
	{
		required uint32 		money 		= 1;	// 消耗的元宝
		required uint32 		gamecoin 	= 2;	// 获得的金币
		required uint32 		multiple 	= 3;	// 倍率
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_ExchangeGamecoin_S ];
	required uint32 			times 		= 2;	// 次数
	repeated ExchangeInfo 		details 	= 3;	// 兑换信息
};

// 获取图鉴信息
message MessageGetBookInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetBookInfo_C ];
};
message MessageGetBookInfoResponse
{
	message BookItem
	{
		required uint32 		bookid 		= 1;	// 图鉴id
		required uint64 		bookexp 	= 2;	// 图鉴总经验
	};

	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetBookInfo_S ];
	required uint32 			firstshot 	= 2;	// 总先手值
	repeated BookItem 			items 		= 3;	// 图鉴组列表
};

// 图鉴升级
message MessageBookUpLevelRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BookUpLevel_C ];
	required uint64 			entityid 	= 2;	// 经验药水流水id
	required uint32 			count 		= 3;	// 使用个数
	required uint32 			bookid 		= 4;	// 图鉴id
};
message MessageBookUpLevelResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_BookUpLevel_S ];
	required uint32 			count 		= 2;	// 使用掉的个数
	required uint32 			bookid 		= 3;	// 图鉴id
	required uint64 			bookexp 	= 4;	// 图鉴总经验
};

// 通知先手值变更
message MessageNotifyFirstShot
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_NotifyFirstShot_S ];
	required uint32 			firstshot 	= 2;	// 先手值
};

// 领取VIP奖励
message MessageDrawVipRewardsRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_DrawVipRewards_C ];
	required uint32 			index 		= 2;	// ID
};
message MessageDrawVipRewardsResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_DrawVipRewards_S ];
	required uint32 			index 		= 2;	// ID
};

// 领取月卡奖励
message MessageDrawMonthCardRewardsRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_DrawMonthCardRewards_C ];
	required uint32 			cardid 		= 2;	// 月卡ID
};
message MessageDrawMonthCardRewardsResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_DrawMonthCardRewards_S ];
	required uint32 			cardid 		= 2;	// 月卡ID
};

// 称号
message MessageTitleItem
{
	required uint32 			id 			= 1;	// 称号id
	required uint32 			count 		= 2;	// 称号进度
	required uint64 			obtaintime 	= 3;	// 称号获得时间
};

// 称号信息
message MessageGetTitleInfoRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetTitleInfo_C ];
};
message  MessageGetTitleInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_GetTitleInfo_S ];
	required uint32 			title 		= 2;	// 称号
	required uint32 			face 		= 3;	// 头像框
	repeated MessageTitleItem 	items 		= 4;	// 称号列表
};

// 设置称号
message MessageChangeTitleRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeTitle_C ];
	required uint32 			title 		= 2;	// 称号id
};
message MessageChangeTitleResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeTitle_S ];
	required uint32 			title 		= 2;	// 称号id
};

// 更换头像
message MessageChangeFaceRequest
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeFace_C ];
	required uint32 			face 		= 2;	// 头像框id
};
message MessageChangeFaceResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_ChangeFace_S ];
	required uint32 			face 		= 2;	// 头像框id
};

// 通知进度
message MessageNotifyTitleInfo
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_NotifyTitleInfo_S ];
	required MessageTitleItem 	item 		= 2;	// 称号列表
};

// 获取玩家技能点信心
message MessageSyncSkillPointInfoRequest
{
	optional MessageRole        id 			= 1 [ default = eMessageRole_SyncSkillPointInfo_C ];
};
message MessageSyncSkillPointInfoResponse
{
	optional MessageRole 		id 			= 1 [ default = eMessageRole_SyncSkillPointInfo_S ];
	required uint32 			point 		= 2;	// 技能点
	required uint64 			recovertime = 3;	// 上次恢复时间
	required int32 				viplevel 	= 4;	// vip等级
}

// 分享系统
message MessageShareRequest
{
	optional MessageRole        id 			= 1 [ default = eMessageRole_Share_C ];
	required uint32 			place 		= 2;	// 分享位置
};
message MessageShareResponse
{
	optional MessageRole        id 			= 1 [ default = eMessageRole_Share_S ];
};
