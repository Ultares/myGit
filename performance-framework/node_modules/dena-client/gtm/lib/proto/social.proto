package msg.social;

import "base.proto";
import "socialtype.proto";

//
// 命令字定义
//
enum MessageSocial
{
	eMessageSocial_GetRelation_C		= 0x1801;	// 获取好友关系的请求
	eMessageSocial_GetRelation_S 		= 0x1802;	// 获取好友关系的返回
	eMessageSocial_GetInvitation_C		= 0x1803;	// 获取收到的邀请函
	eMessageSocial_GetInvitation_S 		= 0x1804;	// 获取收到的邀请函
	eMessageSocial_GetRecommendList_C	= 0x1805;	// 获取推荐列表
	eMessageSocial_GetRecommendList_S 	= 0x1806;	// 获取推荐列表
	eMessageSocial_SendInvitation_CS	= 0x1807;	// 发出添加好友的邀请
	eMessageSocial_ConfirmInvitation_C	= 0x1808;	// 确认邀请函
	eMessageSocial_ConfirmInvitation_S 	= 0x1809;	// 确认邀请函
	eMessageSocial_RemoveFriend_C		= 0x180A;	// 移除好友
	eMessageSocial_RemoveFriend_S 		= 0x180B;	// 移除好友
	eMessageSocial_Gift_C 				= 0x180C;	// 赠送体力
	eMessageSocial_Gift_S 				= 0x180D;	// 赠送体力返回
	eMessageSocial_DrawStrength_C 		= 0x180E;	// 领取体力
	eMessageSocial_DrawStrength_S 		= 0x180F;	// 领取体力返回
	eMessageSocial_NewFriend_S 			= 0x1810;	// 新好友通知
	eMessageSocial_RecvInvitation_S 	= 0x1811;	// 收到邀请通知
	eMessageSocial_RecvGift_S			= 0x1812;	// 收到体力赠送
	eMessageSocial_GetRelationAppend_C	= 0x18A1;	// 获取好友关系的请求(跨服追加)
	eMessageSocial_GetRelationAppend_S 	= 0x18A2;	// 获取好友关系的返回(跨服追加)
	eMessageSocial_GetInvitationAppend_C= 0x18A3;	// 获取收到的邀请函的请求(跨服追加)
	eMessageSocial_GetInvitationAppend_S= 0x18A4;	// 获取收到的邀请函的返回(跨服追加)
	eMessageSocial_updateRelationAppend_SS 	= 0x18A7;	// 发出添加好友的邀请(跨服追加)
	eMessageSocial_ConfirmInvitationAppend_SS= 0x18A8;	// 确认邀请函(跨服追加)
};

//
// 错误码定义
//
enum ErrorcodeSocial
{
	eErrorcodeSocial_Success 				= 0x000000;	// 正确

	eErrorcodeSocial_NotOpened 				= 0x180101;	// 系统未开放

	eErrorcodeSocial_IsFriend				= 0x180701;	// 对方已经是你的好友了
	eErrorcodeSocial_FriendCountLimits		= 0x180702;	// 你的好友已经到达上限，无法新增好友
	eErrorcodeSocial_AlreadyApply			= 0x180703;	// 您已经向对方发出过申请了
	eErrorcodeSocial_InviteBusy				= 0x180704;	// 系统繁忙, 请稍后再试
	eErrorcodeSocial_AddSelf				= 0x180705;	// 不能向自己发送邀请哦
	eErrorcodeSocial_SendTooMuchInvitations = 0x180706;	// 您发送的邀请太多了
	eErrorcodeSocial_RecvTooMuchInvitations = 0x180707;	// 对方收到的邀请太多了
	eErrorcodeSocial_NotInvite				= 0x180801;	// 您没有收到过该申请
	eErrorcodeSocial_NotApply				= 0x180802;	// 对方发出的申请已经过期了
	eErrorcodeSocial_SelfFriendLimits		= 0x180803;	// 你的好友已经到达上限，无法新增好友
	eErrorcodeSocial_OtherFriendLimits		= 0x180804;	// 对方的好友已经达到上限, 你们无法添加对方为好友
	eErrorcodeSocial_ConfirmSelf			= 0x180805;	// 出错了, 你加你自己为好友
	eErrorcodeSocial_NotFriend				= 0x180A01;	// 对方不是您的好友
	eErrorcodeSocial_NotFriend2 			= 0x180C01;	// 对方不是您的好友，不能赠送
	eErrorcodeSocial_Gifted					= 0x180C02;	// 您已经向该好友赠送过了
	eErrorcodeSocial_GiftTimesLimit			= 0x180C03;	// 今日赠送次数已经到达上限，请明日赠送
	eErrorcodeSocial_NotFriend3				= 0x180E01;	// 对方不是您的好友, 不能领取
	eErrorcodeSocial_NotReceive				= 0x180E02;	// 对方没有给您发出过体力赠送
	eErrorcodeSocial_Drawed					= 0x180E03;	// 您已经领取过了
	eErrorcodeSocial_DrawTimesLimit			= 0x180E04;	// 今日领取次数已经到达上限，请明日领取
	eErrorcodeSocial_AgeApplyIsNotMatch 	= 0x180E0A; // 添加的玩家年龄不匹配
};

//
// 消息定义
//

// 获取好友关系
message MessageGetRelationRequest
{
	optional MessageSocial 				id		 	= 1 [ default = eMessageSocial_GetRelation_C ];
};
message MessageGetRelationResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetRelation_S ];
	required uint32 					gifttimes 	= 2;	// 赠送次数
	required uint32 					drawtimes 	= 3;	// 领取次数
	repeated RelationShip 				social 		= 4;	// 社会关系
};

// 获取好友关系(跨服)
message MessageGetRelationAppendRequest
{
	optional MessageSocial 				id		 	= 1 [ default = eMessageSocial_GetRelationAppend_C ];
	required uint64 					roleid 		= 2;	// 角色ID
	optional Relation 					relation 	= 3;	// 关系
	optional uint32 					status 		= 4;	// 赠送状态, 详细的位定义在GiftStatus中
};
message MessageGetRelationAppendResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetRelationAppend_S ];
	required RelationShip 				social 		= 2;	// 社会关系
};

// 获取收到的邀请函
message MessageGetInvitationRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetInvitation_C ];
};
message MessageGetInvitationResponse
{

	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetInvitation_S ];
	repeated Invitation 				invitations = 2;	// 邀请函列表
};
// 获取收到的邀请函(跨服追加)
message MessageGetInvitationAppendRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetInvitationAppend_C ];
	required uint64 					roleid 		= 2;	// 角色ID
};
message MessageGetInvitationAppendResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetInvitationAppend_S ];
	required Invitation 				invitation  = 2;	// 邀请函列表
};
// 获取推荐列表
message MessageGetRecommendListRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetRecommendList_C ];
};
message MessageGetRecommendListResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_GetRecommendList_S ];
	repeated RoleStatus 				recommends 	= 2;	// 推荐列表
};

// 发出添加好友的邀请
message MessageSendFriendInvitation
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_SendInvitation_CS ];
	required uint64 					roleid 		= 2;	// 角色ID
	optional int32 						zoneindex 	= 3;	// 区服编号
};

// 发出添加好友的邀请(跨服追加)
message MessageSendFriendInvitationAppend
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_updateRelationAppend_SS ];
	required uint64 					roleid 		= 2;	// 角色ID
	required RoleStatus 				invitation 	= 3;	// 邀请
	required int64 						timestamp 	= 4;	// 有效期
};
// 确认邀请函
message MessageConfirmInvitationRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_ConfirmInvitation_C ];
	required uint64 					roleid 		= 2; 	// 角色ID
	required Result 					result 		= 3;	// 结果
};

// 确认邀请函(跨服追加)
message MessageConfirmInvitationAppendRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_ConfirmInvitationAppend_SS ];
	required uint64 					roleid 		= 2; 	// 角色ID
	required Result 					result 		= 3;	// 结果
	required RelationShip 				srcinfo 	= 4;	// 源玩家信息，用以目标玩家界面显示
};

message MessageConfirmInvitationResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_ConfirmInvitation_S ];
	required uint64 					roleid 		= 2;	// 角色ID
	required Result 					result 		= 3;	// 结果
};

// 删除好友
message MessageRemoveFriendRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_RemoveFriend_C ];
	required uint64 					roleid 		= 2;	// 角色ID
};
message MessageRemoveFriendNotify
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_RemoveFriend_S ];
	required uint64 					roleid 		= 2;	// 角色ID
};

// 赠送体力
message MessageGiftStrengthRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_Gift_C ];
	required uint64 					roleid 		= 2;	// 角色ID
};
message MessageGiftStrengthResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_Gift_S ];
	required uint64 					roleid 		= 2;	// 角色ID
	required uint32 					state 		= 3;	// 状态
};

// 领取体力
message MessageDrawStrengthRequest
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_DrawStrength_C ];
	required uint64 					roleid 		= 2;	// 角色ID
};
message MessageDrawStrengthResponse
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_DrawStrength_S ];
	required uint64 					roleid 		= 2;	// 角色ID
	required uint32 					state 		= 3;	// 状态
};

// 新好友通知
message MessageNewFriendNotify
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_NewFriend_S ];
	required RelationShip 				newfriend 	= 2;	// 新好友
};

// 收到邀请通知
message MessageRecvInvitationNotify
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_RecvInvitation_S ];
	required int64 						timestamp 	= 2;	// 时间
	required RoleStatus 				invitation 	= 3;	// 邀请
};

// 收到赠送的体力
message MessageRecvGiftStrengthNotify
{
	optional MessageSocial 				id 			= 1 [ default = eMessageSocial_RecvGift_S ];
	required uint64 					roleid 		= 2;	// 角色ID
	required uint32 					state 		= 3;	// 状态
};
