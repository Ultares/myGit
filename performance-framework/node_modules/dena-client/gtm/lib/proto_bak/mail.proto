package msg.mail;

import "mailtype.proto";

//
// 命令字定义
//
enum MessageMail
{
	eMessageMail_GetInBox_C 				= 0x1701;	// 获取收件箱
	eMessageMail_GetInBox_S 				= 0x1702;	// 返回收件箱
	eMessageMail_NewMail_S 					= 0x1703;	// 新邮件
	eMessageMail_ReadMail_C 				= 0x1704;	// 阅读邮件
	eMessageMail_ReadMail_S 				= 0x1705;	// 返回阅读结果
	eMessageMail_GotAttachment_C 			= 0x1706;	// 领取附件
	eMessageMail_GotAttachment_S 			= 0x1707;	// 返回附件领取结果
	eMessageMail_RemoveMail_C 				= 0x1708;	// 删除邮件
	eMessageMail_RemoveMail_S 				= 0x1709;	// 移除邮件
};

//
// 错误码定义
//
enum ErrorcodeMail
{
	eErrorcodeMail_MailIDInvalid			= 0x170401;	// 亲！找不到你说的那封邮件
	eErrorcodeMail_MailStatusInvalid		= 0x170402;	// 这是封很奇怪的邮件,我没办法处理哦

	eErrorcodeMail_MailIDInvalid3			= 0x170601;	// 已经删除了啦～还领啥附件啊！
	eErrorcodeMail_MailStatusInvalid2		= 0x170602;	// 尼玛～邮件已经被领取过了呀～还来！
	eErrorcodeMail_BagIsFull				= 0x170603; // 是时候清理背包啦～

	eErrorcodeMail_MailIDInvalid2			= 0x170801;	// 亲！找不到你说的那封要删除的邮件
};

//
// 消息定义
//

// 获取邮件列表
message MessageGetInBoxRequest
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_GetInBox_C ];
};
message MessageGetInBoxResponse
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_GetInBox_S ];
	repeated MailDetailInfo 		mailbox = 2;	// 邮箱 
};

// 新邮件通知
message MessageNewMailNotify
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_NewMail_S ];
	required uint64 				mailid 	= 2;	// 邮件ID
	required MailDetailInfo 		newmail = 3;	// 新邮件信息
};

// 读取邮件
message MessageReadMailRequest
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_ReadMail_C ];
	required uint64 				mailid 	= 2;	// 邮件ID
};
message MessageReadMailResponse
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_ReadMail_S ];
	required uint64 				mailid 	= 2;	// 邮件ID
	optional MailStatus 			status 	= 3;	// 邮件状态 
};

// 领取附件
message MessageGotAttachmentRequest
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_GotAttachment_C ];
	required uint64 				mailid 	= 2;	// 邮件ID
};
message MessageGotAttachmentResponse
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_GotAttachment_S];
	required uint64 				mailid 	= 2;	// 邮件ID
	optional MailStatus 			status	= 3;	// 领取状态
};

// 删除邮件通知
message MessageRemoveMailRequest
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_RemoveMail_C ];
	required uint64 				mailid 	= 2;	// 邮件ID
};
message MessageRemoveMailNotify
{
	optional MessageMail 			id 		= 1 [ default = eMessageMail_RemoveMail_S ];
	required uint64 				mailid 	= 2;	// 邮件ID
};
