package msg.admin;

import "base.proto";

//
// 命令字定义
//
enum MessageAdmin
{
	eMessageAdmin_ZoneIndex_G		= 0xA001;	// Agent索引
	eMessageAdmin_ShellCmd_A		= 0xA002;	// GM命令行请求
	eMessageAdmin_ShellCmd_G 		= 0xA003;	// GM命令行返回
	eMessageAdmin_QueryRoleID_A 	= 0xA010;	// 查询角色ID
	eMessageAdmin_QueryRoleID_G 	= 0xA011;	// 查询角色ID返回
	eMessageAdmin_Shutup_A 			= 0xA012;	// 禁言请求
	eMessageAdmin_Shutup_G 			= 0xA013;	// 禁言返回
	eMessageAdmin_BannedAccount_A 	= 0xA014;	// 封号请求
	eMessageAdmin_BannedAccount_G 	= 0xA015;	// 封号返回
	eMessageAdmin_SendBulletin_A	= 0xA016;	// 发送公告请求
	eMessageAdmin_SendBulletin_G 	= 0xA017;	// 发送公告返回
	eMessageAdmin_RemoveBulletin_A	= 0xA018;	// 删除公告请求
	eMessageAdmin_RemoveBulletin_G	= 0xA019;	// 删除公告返回
	eMessageAdmin_SendMail_A 		= 0xA01A;	// 发送GM邮件
	eMessageAdmin_SendMail_G 		= 0xA01B;	// 发送GM邮件返回
	eMessageAdmin_ExchangeTicket_A	= 0xA01C;	// 礼包码返回
	eMessageAdmin_ExchangeTicket_G	= 0xA01D;	// 兑换礼品券
	eMessageAdmin_QueryRoleStatus_A = 0xA01E;	// 查询角色状态
	eMessageAdmin_QueryRoleStatus_G = 0xA01F;	// 角色状态返回
	eMessageAdmin_DeleteRole_A 		= 0xA020;	// 删除角色
	eMessageAdmin_DeleteRole_G 		= 0xA021;	// 删除角色返回
};

//
// 错误码定义
//
enum ErrorcodeAdmin
{
	eErrorcodeAdmin_Success 		= 0x000000;	// 正确
};

// Agent索引
message MessageAdminZoneIndexNotify
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ZoneIndex_G ];
	optional uint32 				zoneindex 	= 2;	// 区服索引
	optional string 				host 		= 3;	// Agent主机地址
	optional uint32 				port 		= 4;	// Agent端口号
};

// GM命令行
message MessageAdminShellCmdRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ShellCmd_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional string 				cmdline		= 3;	// 命令行
};
message MessageAdminShellCmdResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ShellCmd_G ];
	optional string 				cmdresp 	= 2;	// 命令行返回
};

// 查询角色ID
message MessageAdminQueryRoleIDRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleID_A ];
	optional string 				rolename 	= 2;	// 角色名
};
message MessageAdminQueryRoleIDResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleID_G ];
	optional string 				rolename 	= 2;	// 角色名
	optional uint64 				roleid 		= 3;	// 角色名对应的角色ID
};

// 角色禁言
message MessageAdminShutupRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_Shutup_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint32 				seconds 	= 3;	// 禁言时间
};
message MessageAdminShutupResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_Shutup_G ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint64 				expiretime 	= 3;	// 解禁时间
};

// 角色封号
message MessageAdminBannedAccountRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_BannedAccount_A ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint32 				seconds 	= 3;	// 封号时间
};
message MessageAdminBannedAccountResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_BannedAccount_G ];
	optional uint64 				roleid 		= 2;	// 角色ID
	optional uint64 				expiretime 	= 3;	// 解禁时间
};

// 发送公告
message MessageAdminSendBulletinRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendBulletin_A ];
	required int32 					bulletinid	= 2;	// 公告ID
	required int32 					priority	= 3;	// 优先级
	required int32 					cycletimes 	= 4;	// 轮播次数
	required int64 					starttime 	= 5;	// 公告发送时间
	required int64 					endtime 	= 6;	// 公告结束时间
	required int32 					interval	= 7;	// 发送时间间隔
	required string 				message 	= 8;	// 公告消息体
};
message MessageAdminSendBulletinResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendBulletin_G ];
	required int32 					bulletinid	= 2;	// 公告ID
};

// 删除公告
message MessageAdminRemoveBulletinRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_RemoveBulletin_A ];
	required int32 					bulletinid	= 2;	// 公告ID
};
message MessageAdminRemoveBulletinResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_RemoveBulletin_G ];
	required int32 					bulletinid	= 2;	// 公告ID
};

// 发送GM邮件
message MessageSendMailRequest
{
	enum MailType
	{
		eMailType_All 				= 1;	// 所有玩家
		eMailType_Online 			= 2;	// 当前在线玩家,不接受额外参数
		eMailType_UidList 			= 3;	// 指定ID列表的玩家,列表长度<=100
		eMailType_Specify			= 4;	// 指定条件的玩家
	};

	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendMail_A ];
	required uint32 				mailid 		= 2;	// GM邮件ID, GM后台保证唯一
	required MailType 				type 		= 3;	// 邮件类型
	optional string 				condition	= 4;	// 指定的条件
	required uint64 				startime 	= 5;	// 开始时间
	required uint64 				endtime  	= 6;	// 结束时间
	required string 				title 		= 7;	// 标题
	required string 				content 	= 8;	// 内容
	repeated Resource 				attachment	= 9;	// 附件
	required string 				sender 		= 10;	// 发送者描述
	required uint32 				keepdays 	= 11;	// 保留日期
};
message MessageSendMailResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_SendMail_G ];
	required uint32 				mailid 		= 2;	// 邮件ID
};

message MessageExchangeTicketRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ExchangeTicket_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				giftticket 	= 3;	// 礼包券
};
message MessageExchangeTicketResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_ExchangeTicket_A ];
	required uint64 				roleid 		= 2;	// 角色ID
	required string 				giftticket 	= 3;	// 礼包券
	required int32 					result 		= 4;	// 结果
	repeated Resource  				gifts 		= 5;	// 礼包内容
};

message MessageQueryRoleStatusRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_A ];
	required uint64 				roleid 		= 2;	// 角色ID
};
message MessageQueryRoleStatusResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_G ];
	required uint64 				roleid 		= 2;	// 角色ID
	required RoleStatus 			rolestatus 	= 3;	// 角色状态
};

message MessageDeleteRoleRequest
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_A ];
	required string 				account 	= 2;	// 账号
	required uint64 				roleid 		= 3;	// 角色ID
};
message MessageDeleteRoleResponse
{
	optional MessageAdmin 			id 			= 1 [ default = eMessageAdmin_QueryRoleStatus_G ];
	required bool 					result 		= 2;	// 结果
	required string 				account 	= 3;	// 账号
	required uint64 				roleid 		= 4;	// 角色ID
};
