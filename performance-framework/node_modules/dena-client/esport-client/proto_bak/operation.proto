package msg.operation;

import "base.proto";
import "operationtype.proto";

//
// 命令字定义
//

enum MessageOperation
{
	eMessageOperation_Signin_C 						= 0x2201;	// 签到请求
	eMessageOperation_Signin_S 						= 0x2202;	// 签到回应
	eMessageOperation_QuerySigninInfo_C				= 0x2203;	// 查询签到信息请求
	eMessageOperation_QuerySigninInfo_S				= 0x2204;	// 查询签到信息回应
	eMessageOperation_GetTotalSigninReward_C 		= 0x2205;	// 领取累计登陆奖励请求
	eMessageOperation_GetTotalSigninReward_S 		= 0x2206;	// 领取累计登陆奖励回应
	eMessageOperation_GetSevenOnlineInfo_C 			= 0x2207;	// 七日巡演信息查询请求
	eMessageOperation_GetSevenOnlineInfo_S 			= 0x2208;	// 七日巡演信息查询回应
	eMessageOperation_GetSevenOnlineReward_C 		= 0x2209;	// 领取七日巡演奖励请求
	eMessageOperation_GetSevenOnlineReward_S 		= 0x220A;	// 领取七日巡演奖励回应
	eMessageOperation_GetOperationInfo_C 			= 0x2210;	// 获取运营活动信息
	eMessageOperation_GetOperationInfo_S 			= 0x2211;	// 运营信息返回
	eMessageOperation_GetLevelupInfo_C 				= 0x2212;	// 获取冲级达人的信息
	eMessageOperation_GetLevelupInfo_S 				= 0x2213;	// 冲级达人信息返回
	eMessageOperation_DrawLevelupRewards_C 			= 0x2214;	// 领取冲级达人的奖励
	eMessageOperation_DrawLevelupRewards_S 			= 0x2215;	// 领取冲级达人的奖励
	eMessageOperation_CollectExchange_C 			= 0x2216;	// 收集兑换
	eMessageOperation_CollectExchange_S 			= 0x2217;	// 收集兑换返回
	eMessageOperation_GetArenaRankInfo_C 			= 0x2218;	// 获取竞技场排行的信息
	eMessageOperation_GetArenaRankInfo_S 			= 0x2219;	// 竞技场排行返回
	eMessageOperation_DrawArenaRankRewards_C 		= 0x221A;	// 领取竞技场排行奖励
	eMessageOperation_DrawArenaRankRewards_S 		= 0x221B;	// 领取竞技场排行奖励
};

//
// 错误码定义
//

enum ErrorcodeOperation
{
	eErrorcodeOperation_Success						= 0x000000;		// 成功

	eErrorcodeOperation_SigninNotOpen 				= 0x220101;		// 签到系统暂未开放
	eErrorcodeOperation_SigninHasGot 				= 0x220102;		// 今日签到奖励已经领取
	eErrorcodeOperation_SigninBagNotEnough 			= 0x220103;		// 背包空间不足
	eErrorcodeOperation_SigninConfigError 			= 0x220104;		// 配置出错

	eErrorcodeOperation_TotalSigninInvalidDay 		= 0x220501;		// 非法天数
	eErrorcodeOperation_TotalSigninBagNotEnough 	= 0x220502;		// 背包不足

	eErrorcodeOperation_SevenOnlineDaysEnd 			= 0x220901;		// 七天登陆奖励已经领取完毕
	eErrorcodeOperation_SevenOnlineDaysInvalidDay 	= 0x220902;		// 非法的指定天数
	eErrorcodeOperation_SevenOnlineDaysHasGot 		= 0x220903;		// 奖励已经领取
	eErrorcodeOperation_SevenOnlineDaysBagNotEnough = 0x220904;		// 背包空间不足

	eErrorcodeOperation_LevelupActIDInvalid 		= 0x221201;		// 活动ID非法
	eErrorcodeOperation_LevelupActIDInvalid1 		= 0x221401;		// 活动ID非法
	eErrorcodeOperation_LevelupStatusInvalid		= 0x221402;		// 活动不在有效期内
	eErrorcodeOperation_LevelupIndexIsInvalid 		= 0x221403;		// 您提交的参数非法
	eErrorcodeOperation_LevelupNotComplete 			= 0x221404;		// 您还没有达成该等级
	eErrorcodeOperation_LevelupHasDrawed 			= 0x221405;		// 您已经领取过该等级的奖励
	eErrorcodeOperation_LevelupConfigError			= 0x221406;		// 冲级达人的配置出错
	eErrorcodeOperation_LevelupBagIsFull 			= 0x221407;		// 您的背包已满
	eErrorcodeOperation_CollectActIDInvalid 		= 0x221601;		// 道具收集活动ID非法
	eErrorcodeOperation_CollectStatusInvalid 		= 0x221602;		// 活动不在有效期内
	eErrorcodeOperation_CollectIDInvalid 			= 0x221603;		// 道具收集ID非法
	eErrorcodeOperation_CollectItemNotEnough 		= 0x221604;		// 您收集的道具数量不足
	eErrorcodeOperation_CollectBagIsFull 			= 0x221605;		// 您的背包已经满了
	eErrorcodeOperation_ArenaRankActIDInvalid 		= 0x221801;		// 活动ID非法
	eErrorcodeOperation_ArenaRankActIDInvalid1 		= 0x221A01;		// 活动ID非法
	eErrorcodeOperation_ArenaRankStatusInvalid 		= 0x221A02;		// 活动不在有效期内
	eErrorcodeOperation_ArenaRankIndexIsInvalid 	= 0x221A03;		// 您提交的参数非法
	eErrorcodeOperation_ArenaRankConfigError 		= 0x221A04;		// 竞技场排行配置出错
	eErrorcodeOperation_ArenaRankNotComplete		= 0x221A05;		// 您还没有达成该排行
	eErrorcodeOperation_ArenaRankHasDrawed 			= 0x221A06;		// 您已经领取过该排行的奖励
	eErrorcodeOperation_ArenaRankBagIsFull			= 0x221A07;		// 您的背包已满
};

// 签到
message MessageSigninRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_Signin_C ];
};
message MessageSigninResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_Signin_S ];
	required SigninInfo  	    		info 		= 2;	// 签到信息
};

// 签到信息
message MessageQuerySigninInfoRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_QuerySigninInfo_C ];
};
message MessageQuerySigninInfoResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_QuerySigninInfo_S ];
	required SigninInfo  	    		info 		= 2;	// 签到信息
	required TotalSigninReward 			rewardinfo  = 3;	// 累计签到奖励领取状态
};

// 领取累计签到奖励
message MessageGetTotalSigninRewardRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetTotalSigninReward_C ];
	required uint32 					day 		= 2;	// 领取指定天数的奖励
};
message MessageGetTotalSigninRewardResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetTotalSigninReward_S ];
	required TotalSigninReward 			rewardinfo 	= 2;	// 累计签到奖励领取状态
};

// 查询七日巡演信息
message MessageGetSevenOnlineInfoRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetSevenOnlineInfo_C ];
};
message MessageGetSevenOnlineInfoResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetSevenOnlineInfo_S ];
	repeated uint32 					onlinedays 	= 2;	// 登陆天数
	required uint32 					drawmask 	= 3;	// 奖励领取掩码
	required uint32 					days 		= 4;	// 创角至今相隔的天数
};

// 领取七日巡演奖励
message MessageGetSevenOnlineRewardRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetSevenOnlineReward_C ];
	required uint32 					day 		= 2;	// 领取哪天的奖励
};
message MessageGetSevenOnlineRewardResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetSevenOnlineReward_S ];
	required uint32 					drawmask 	= 2;	// 奖励领取掩码
};

// 获取运营活动信息
message MessageGetOperationInfoRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetOperationInfo_C ];
};
message MessageGetOperationInfoResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetOperationInfo_S ];
	repeated uint32 					info 	 	= 2 [ packed = true ];
};

// 获取冲级达人活动信息
message MessageGetLevelupInfoRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetLevelupInfo_C ];
	required uint32 					actid 		= 2;	// 活动ID
};
message MessageGetLevelupInfoResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetLevelupInfo_S ];
	required uint32 					actid 		= 2;					// 活动ID
	repeated uint32 					reachmasks	= 3 [ packed = true ];	// 冲级达人标志, 0未达成;1已经达成;3已经领取过
};

// 领取冲级达人的奖励
message MessageDrawLevelupRewardsRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_DrawLevelupRewards_C ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					index 		= 3;	// 领取哪个索引的奖励(从0开始)
};
message MessageDrawLevelupRewardsResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_DrawLevelupRewards_S ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					index 		= 3;	// 领取哪个索引的奖励(从0开始)
};

// 收集兑换
message MessageCollectExchangeRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_CollectExchange_C ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					collectid 	= 3;	// 收集ID
};
message MessageCollectExchangeResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_CollectExchange_S ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					collectid 	= 3;	// 收集ID
};

// 获取竞技场排行活动信息
message MessageGetArenaRankInfoRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetArenaRankInfo_C ];
	required uint32 					actid 		= 2;	// 活动ID
};
message MessageGetArenaRankInfoResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_GetArenaRankInfo_S ];
	required uint32 					actid 		= 2;					// 活动ID
	repeated uint32 					reachmasks	= 3 [ packed = true ];	// 冲级达人标志, 0未达成;1已经达成;3已经领取过
};

// 领取竞技场排行奖励
message MessageDrawArenaRankRewardsRequest
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_DrawArenaRankRewards_C ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					index 		= 3;	// 领取哪个索引的奖励(从0开始)
};
message MessageDrawArenaRankRewardsResponse
{
	optional MessageOperation 			id 			= 1 [ default = eMessageOperation_DrawArenaRankRewards_S ];
	required uint32 					actid 		= 2;	// 活动ID
	required uint32 					index 		= 3;	// 领取哪个索引的奖励(从0开始)
};
