var lineReader = require('line-reader');

var actFlagTypeList = [];

lineReader.eachLine('interface.txt', function (line, last) {
    var interface = line.trim();
    var lowerCase = interface.replace('.', '_').toLowerCase();
    var upperCase = interface.replace('.', '_').toUpperCase();

    actFlagTypeList.push(upperCase);

    console.log("function %s(asyncCallback) {monitor(START, '%s', ActFlagType.%s); tff.get('/g1/api/',{'method': '%s','user_token': actor.actorId},function (message) {if (message.code == 200) {monitor(END, '%s', ActFlagType.%s);asyncCallback();} else {console.log('%s', message.code, message.body);}});}",
        lowerCase, interface, upperCase, interface, interface, upperCase, interface);

    if (last) {
        var actFlayTypeStr = 'var ActFlagType = {'
        for (var i = 0, len = actFlagTypeList.length; i < len; i++) {
            actFlayTypeStr = actFlayTypeStr + actFlagTypeList[i] + ': ' + (i) + ',';
        }

        actFlayTypeStr =  actFlayTypeStr + '}'

        console.log(actFlayTypeStr)
    }
});
